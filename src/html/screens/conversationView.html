<!-- Conversation View - Customer interaction interface -->
<div class="conversation-view" id="conversation-view" style="display: none;">
    <!-- Customer Status Panel -->
    <div class="customer-status-panel">
        <div class="customer-header">
            <div class="customer-avatar-large">
                <img id="conv-customer-avatar" src="" alt="Customer" />
                <div class="status-indicators">
                    <div class="mood-indicator" id="conv-customer-mood"></div>
                    <div class="patience-timer" id="conv-patience-timer">
                        <div class="timer-fill"></div>
                    </div>
                </div>
            </div>
            
            <div class="customer-info-panel">
                <h2 id="conv-customer-name">Customer Name</h2>
                <div class="customer-badges">
                    <span id="conv-relationship-badge" class="badge relationship">Stranger</span>
                    <span id="conv-archetype-badge" class="badge archetype">Regular Customer</span>
                </div>
                
                <div class="interaction-metrics">
                    <div class="metric">
                        <label>Satisfaction:</label>
                        <div class="satisfaction-bar">
                            <div class="bar-fill" id="conv-satisfaction-fill"></div>
                            <span class="bar-text" id="conv-satisfaction-text">50%</span>
                        </div>
                    </div>
                    
                    <div class="metric">
                        <label>Relationship:</label>
                        <div class="relationship-progress">
                            <div class="progress-fill" id="conv-relationship-fill"></div>
                            <span class="progress-text" id="conv-relationship-text">25/100</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Quick Action Buttons -->
        <div class="quick-actions">
            <button class="action-btn primary" id="conv-help-btn">
                <span class="btn-icon">ü§ù</span>
                <span class="btn-text">Help Customer</span>
            </button>
            <button class="action-btn secondary" id="conv-checkout-btn">
                <span class="btn-icon">üõí</span>
                <span class="btn-text">Start Checkout</span>
            </button>
            <button class="action-btn neutral" id="conv-end-btn">
                <span class="btn-icon">üëã</span>
                <span class="btn-text">End Interaction</span>
            </button>
        </div>
    </div>
    
    <!-- Main Conversation Area -->
    <div class="conversation-main">
        <!-- Conversation Messages -->
        <div class="conversation-messages" id="conv-messages">
            <div class="messages-container">
                <!-- Messages will be dynamically added here -->
            </div>
            
            <!-- Typing Indicator -->
            <div class="typing-indicator" id="conv-typing" style="display: none;">
                <div class="typing-avatar">
                    <img src="" alt="Customer" />
                </div>
                <div class="typing-bubble">
                    <div class="typing-dots">
                        <span></span><span></span><span></span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Response Interface -->
        <div class="response-interface">
            <!-- Pre-defined Response Options -->
            <div class="response-options" id="conv-response-options">
                <h3>Response Options:</h3>
                <div class="options-grid" id="conv-options-grid">
                    <!-- Options will be dynamically added -->
                </div>
            </div>
            
            <!-- Custom Response Input -->
            <div class="custom-response">
                <div class="input-group">
                    <input type="text" 
                           id="conv-custom-input" 
                           placeholder="Type your own response..." 
                           maxlength="200"
                           autocomplete="off">
                    <button id="conv-send-btn" class="send-btn">
                        <span class="btn-text">Send</span>
                        <span class="btn-icon">üì§</span>
                    </button>
                </div>
                
                <div class="input-suggestions" id="conv-input-suggestions">
                    <!-- Auto-complete suggestions will appear here -->
                </div>
            </div>
            
            <!-- Conversation Controls -->
            <div class="conversation-controls">
                <div class="conversation-stats">
                    <span class="stat">
                        <label>Turn:</label>
                        <span id="conv-turn-count">1</span>
                    </span>
                    <span class="stat">
                        <label>Duration:</label>
                        <span id="conv-duration">0:30</span>
                    </span>
                </div>
                
                <div class="conversation-actions">
                    <button class="control-btn" id="conv-history-btn">
                        <span class="btn-icon">üìã</span>
                        <span class="btn-text">History</span>
                    </button>
                    <button class="control-btn" id="conv-notes-btn">
                        <span class="btn-icon">üìù</span>
                        <span class="btn-text">Notes</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Contextual Panels -->
    <div class="context-panels">
        <!-- Customer Insights Panel -->
        <div class="context-panel" id="conv-insights-panel">
            <h3>Customer Insights</h3>
            <div class="insights-content">
                <div class="insight-item">
                    <label>Interests:</label>
                    <div class="interest-tags" id="conv-interests">
                        <!-- Interest tags will be added here -->
                    </div>
                </div>
                
                <div class="insight-item">
                    <label>Shopping Behavior:</label>
                    <div class="behavior-info" id="conv-behavior">
                        <!-- Behavior info will be added here -->
                    </div>
                </div>
                
                <div class="insight-item">
                    <label>Previous Interactions:</label>
                    <div class="interaction-history" id="conv-prev-interactions">
                        <!-- Previous interaction summary -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Suggested Actions Panel -->
        <div class="context-panel" id="conv-suggestions-panel">
            <h3>Suggested Actions</h3>
            <div class="suggestions-content">
                <div class="suggestion-category">
                    <h4>Service Actions</h4>
                    <div class="suggestion-buttons" id="conv-service-suggestions">
                        <!-- Service suggestion buttons -->
                    </div>
                </div>
                
                <div class="suggestion-category">
                    <h4>Sales Actions</h4>
                    <div class="suggestion-buttons" id="conv-sales-suggestions">
                        <!-- Sales suggestion buttons -->
                    </div>
                </div>
                
                <div class="suggestion-category">
                    <h4>Relationship Actions</h4>
                    <div class="suggestion-buttons" id="conv-relationship-suggestions">
                        <!-- Relationship suggestion buttons -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Conversation History Modal -->
<div class="modal" id="conversation-history-modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Conversation History</h3>
            <button class="modal-close" data-modal="conversation-history-modal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="history-filters">
                <select id="history-customer-filter">
                    <option value="all">All Customers</option>
                    <!-- Customer options will be populated -->
                </select>
                <select id="history-date-filter">
                    <option value="today">Today</option>
                    <option value="week">This Week</option>
                    <option value="month">This Month</option>
                    <option value="all">All Time</option>
                </select>
            </div>
            <div class="history-list" id="conversation-history-list">
                <!-- History items will be populated -->
            </div>
        </div>
    </div>
</div>

<!-- Customer Notes Modal -->
<div class="modal" id="customer-notes-modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Customer Notes</h3>
            <button class="modal-close" data-modal="customer-notes-modal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="notes-section">
                <h4>Personal Notes</h4>
                <textarea id="customer-personal-notes" 
                          placeholder="Add personal notes about this customer..."
                          rows="4"></textarea>
            </div>
            
            <div class="notes-section">
                <h4>Preferences</h4>
                <textarea id="customer-preferences-notes" 
                          placeholder="Note customer preferences, likes, dislikes..."
                          rows="3"></textarea>
            </div>
            
            <div class="notes-section">
                <h4>Purchase History Notes</h4>
                <textarea id="customer-purchase-notes" 
                          placeholder="Notes about previous purchases, returns..."
                          rows="3"></textarea>
            </div>
            
            <div class="notes-actions">
                <button class="btn secondary" id="notes-cancel-btn">Cancel</button>
                <button class="btn primary" id="notes-save-btn">Save Notes</button>
            </div>
        </div>
    </div>
</div>
